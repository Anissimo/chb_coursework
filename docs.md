**Общее описание**

**Этот проект представляет собой бота для Telegram, который предоставляет информацию о театрах и предстоящих спектаклях. Бот использует MongoDB для хранения данных о театрах и спектаклях.**

**Архитектура**

**Проект состоит из четырёх основных файлов:**

1. **main****.py**: Это главный файл, который запускает бота и обрабатывает команды от пользователей.** **
2. **commands.py**: Этот файл содержит функции, которые обрабатывают каждую команду.** **
3. **database.py**: Этот файл содержит функции для взаимодействия с базой данных MongoDB.** **
4. **searcher.py**: Этот файл содержит функцию **search()**, которая используется для умного поиска на основе запросов пользователя.** **

**Команды**

**Бот поддерживает следующие команды:**

* **/start**: Отправляет приветственное сообщение и краткое описание функционала бота.** **
* **/help**: Показывает список всех доступных команд.** **
* **/short**: Показывает краткую информацию о каждом театре.** **
* **/id(театра)/full**: Показывает полную информацию о театре с указанным ID.** **
* **/id(театра)/full/show_title**: Показывает информацию о конкретном спектакле в указанном театре.** **
* **/nearest_show/all**: Показывает ближайшие спектакли всех театров.** **
* **/id(театра)/nearest_show**: Показывает ближайшие спектакли конкретного театра.** **
* **/show_title/nearest_show**: Показывает ближайшие спектакли с указанным названием.** **
* **/id(театра)/location**: Показывает местоположение театра с указанным ID на Яндекс Картах.** **
* **/search**: Выполняет умный поиск на основе запроса пользователя и вызывает наиболее подходящую функцию.** **

**База данных**

**База данных MongoDB используется для хранения данных о театрах и спектаклях. Каждый театр хранится как документ в коллекции и имеет следующую структуру:**

* **_id**: Уникальный идентификатор театра.** **
* **theaterName**: Название театра.** **
* **website**: Веб-сайт театра.** **
* **location**: Местоположение театра.** **
* **theaterImages**: Список URL-адресов изображений театра.** **
* **shows**: Список спектаклей, каждый из которых имеет следующую структуру:** **
* **title**: Название спектакля.** **
* **shortDescription**: Краткое описание спектакля.** **
* **images**: Список URL-адресов изображений спектакля.** **
* **upcomingShows**: Список предстоящих спектаклей, каждый из которых имеет следующую структуру:** **
* **date**: Дата и время спектакля.** **
* **ticketPrice**: Цена билета на спектакль.** **
* **bookingLink**: Ссылка для бронирования билетов на спектакль.** **
